"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[143],{6143:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var l=t(641),o=t(33),a=t(3751),s=t(953),d=t(1250);const i=e=>((0,l.Qi)("data-v-4af97f69"),e=e(),(0,l.jt)(),e),p={class:"modal",tabindex:"-1"},r={class:"modal-content"},u=i((()=>(0,l.Lk)("hr",null,null,-1))),m={class:"data-row"},c=i((()=>(0,l.Lk)("label",{for:"name"},"Name",-1))),k={class:"data-row"},f=i((()=>(0,l.Lk)("label",{for:"description"},"Description",-1))),L={class:"data-row"},v=i((()=>(0,l.Lk)("label",{for:"profession"},"Profession",-1))),b=["selected","value"],C={class:"data-row"},h=i((()=>(0,l.Lk)("label",{for:"department"},"Department",-1))),E=["selected","value"],_={class:"btns"},y=i((()=>(0,l.Lk)("i",null,null,-1))),V=i((()=>(0,l.Lk)("i",null,null,-1)));var A={__name:"EmplDetailModal",props:["empl","depts","profs","mode"],emits:["onClose"],setup(e,{emit:n}){const t=n,d=e,i=(0,s.Kh)({name:"",description:"",profession:null,department:null});function A(){i.name&&i.profession&&i.department?t("onSave",i):alert("Fields are empty.")}return(0,l.sV)((()=>{"Add"===d.mode?(i.name="",i.description="",i.profession=null,i.department=null):"Edit"===d.mode&&(i.id=d.empl.id,i.name=d.empl.name,i.description=d.empl.description,i.profession=d.empl.profession,i.department=d.empl.department)})),(e,n)=>((0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("div",r,[(0,l.Lk)("span",{class:"close",onClick:n[0]||(n[0]=e=>t("onClose"))},"×"),(0,l.Lk)("h1",null,(0,o.v_)(d.mode),1),u,(0,l.Lk)("div",m,[c,(0,l.bo)((0,l.Lk)("input",{id:"name","onUpdate:modelValue":n[1]||(n[1]=e=>i.name=e)},null,512),[[a.Jo,i.name]])]),(0,l.Lk)("div",k,[f,(0,l.bo)((0,l.Lk)("input",{id:"description","onUpdate:modelValue":n[2]||(n[2]=e=>i.description=e)},null,512),[[a.Jo,i.description]])]),(0,l.Lk)("div",L,[v,(0,l.bo)((0,l.Lk)("select",{id:"profession","onUpdate:modelValue":n[3]||(n[3]=e=>i.profession=e)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.profs,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,selected:e.id===d.empl.profession.id,value:e},(0,o.v_)(e.name),9,b)))),128))],512),[[a.u1,i.profession]])]),(0,l.Lk)("div",C,[h,(0,l.bo)((0,l.Lk)("select",{id:"department","onUpdate:modelValue":n[4]||(n[4]=e=>i.department=e)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.depts,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,selected:e.id===d.empl.department.id,value:e},(0,o.v_)(e.name),9,E)))),128))],512),[[a.u1,i.department]])]),(0,l.Lk)("div",_,[(0,l.Lk)("button",{class:"save-btn",onClick:A},[y,(0,l.eW)(" Save ")]),(0,l.Lk)("button",{onClick:n[5]||(n[5]=e=>t("onClose"))},[V,(0,l.eW)(" Cancel ")])])])]))}},X=t(6262);const w=(0,X.A)(A,[["__scopeId","data-v-4af97f69"]]);var g=w;const D=e=>((0,l.Qi)("data-v-6a9810b0"),e=e(),(0,l.jt)(),e),I=D((()=>(0,l.Lk)("h1",null,"Employees",-1))),K=D((()=>(0,l.Lk)("hr",null,null,-1))),F=D((()=>(0,l.Lk)("i",null,null,-1))),U={key:0,class:"empl-tbl"},W=D((()=>(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Id"),(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Description"),(0,l.Lk)("th",null,"Profession"),(0,l.Lk)("th",null,"Department")],-1))),Q=["onClick"],S=["onClick"],T={key:1,class:"no-data"};var j={__name:"EmployeeManagement",setup(e){const n=(0,s.Kh)({data:[],departments:[],professions:[],selectedEmpl:{name:"Test",description:"Test description",profession:"",department:""},detailVisible:!1,mode:""});function t(){n.mode="Add",n.detailVisible=!0}function i(e){n.selectedEmpl=e,n.mode="Edit",n.detailVisible=!0}function p(e){d.A.delete(`/api/employee?id=${e.id}`).then((e=>{n.data=e.data}))}function r(){d.A.get("/api/department").then((e=>{n.departments=e.data}))}function u(){d.A.get("/api/profession").then((e=>{n.professions=e.data}))}function m(){d.A.get("/api/employee").then((e=>{n.data=e.data}))}function c(e){"Add"===n.mode?k(e):"Edit"===n.mode&&f(e)}async function k(e){console.log(e),await d.A.post("/api/employee",e).then((()=>{m(),n.detailVisible=!1}))}function f(e){d.A.patch("/api/employee",e).then((()=>{m(),n.detailVisible=!1}))}return(0,l.sV)((()=>{m(),u(),r()})),(e,s)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[I,K,(0,l.Lk)("button",{onClick:t},[F,(0,l.eW)(" Add ")]),n.data.length?((0,l.uX)(),(0,l.CE)("table",U,[W,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.data,(e=>((0,l.uX)(),(0,l.CE)("tr",{class:"data-row",key:e.id,onClick:n=>i(e)},[(0,l.Lk)("td",null,(0,o.v_)(e.id),1),(0,l.Lk)("td",null,(0,o.v_)(e.name),1),(0,l.Lk)("td",null,(0,o.v_)(e.description),1),(0,l.Lk)("td",null,(0,o.v_)(e.profession.name),1),(0,l.Lk)("td",null,(0,o.v_)(e.department.name),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:"close",onClick:(0,a.D$)((n=>p(e)),["stop"])},"×",8,S)])],8,Q)))),128))])):((0,l.uX)(),(0,l.CE)("section",T,"There are no elements.")),n.detailVisible?((0,l.uX)(),(0,l.Wv)(g,{key:2,empl:n.selectedEmpl,mode:n.mode,depts:n.departments,profs:n.professions,onOnClose:s[0]||(s[0]=e=>n.detailVisible=!1),onOnSave:c},null,8,["empl","mode","depts","profs"])):(0,l.Q3)("",!0)],64))}};const J=(0,X.A)(j,[["__scopeId","data-v-6a9810b0"]]);var M=J}}]);
//# sourceMappingURL=143.c90dbaf7.js.map